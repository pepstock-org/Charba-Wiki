(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{176:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return l})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return s})),a.d(t,"default",(function(){return p}));var r=a(3),n=a(8),i=(a(0),a(209)),o=a(210),l={id:"GettingStarted",title:"Getting Started",hide_title:!0,sidebar_label:"Getting started"},c={unversionedId:"getting-started/GettingStarted",id:"getting-started/GettingStarted",isDocsHomePage:!1,title:"Getting Started",description:"My first chart",source:"@site/docs/getting-started/GettingStarted.md",sourceDirName:"getting-started",slug:"/getting-started/GettingStarted",permalink:"/Charba-Wiki/docs/getting-started/GettingStarted",version:"current",sidebar_label:"Getting started",frontMatter:{id:"GettingStarted",title:"Getting Started",hide_title:!0,sidebar_label:"Getting started"},sidebar:"docs",previous:{title:"Build and install",permalink:"/Charba-Wiki/docs/getting-started/Building"},next:{title:"Integration",permalink:"/Charba-Wiki/docs/getting-started/Integration"}},s=[{value:"My first chart",id:"my-first-chart",children:[]},{value:"Javascript resources",id:"javascript-resources",children:[{value:"Embedded resources",id:"embedded-resources",children:[]},{value:"Deferred resources",id:"deferred-resources",children:[]}]},{value:"Polyfilling your project",id:"polyfilling-your-project",children:[{value:"Polyfilling bj <code>CoreJs</code>",id:"polyfilling-bj-corejs",children:[]},{value:"Polyfilling bj <code>polyfill.io</code>",id:"polyfilling-bj-polyfillio",children:[]}]}],b={toc:s};function p(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},b,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"my-first-chart"},"My first chart"),Object(i.b)("p",null,"It's easy to get started with ",Object(i.b)("strong",{parentName:"p"},"Charba"),". "),Object(i.b)("p",null,"In this example, we create a bar chart with a single dataset."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// enabling Charba\nCharba.enable();\n\nBarChart chart = new BarChart();\n// for GWT widget\n// BarChartWidget chart = new BarChartWidget();\n\nchart.getOptions().setResponsive(true);\nchart.getOptions().getTitle().setText("My first chart");\n\nBarDataset dataset = chart.newDataset();\ndataset.setLabel("dataset 1");\n\ndataset.setBackgroundColor(HtmlColor.CORNFLOWER_BLUE.alpha(0.2));\ndataset.setBorderColor(HtmlColor.CORNFLOWER_BLUE);\ndataset.setBorderWidth(1);\ndataset.setData(20, 5, 40, 35, 50, 70, 80);\n\nchart.getData().setLabels("January", "February", "March", "April", "May", "June", "July");\nchart.getData().setDatasets(dataset);\n\n// add to DOM by Elemental 2\nDomGlobal.document.body.appendChild(chart.getChartElement().as());\n// add to DOM for GWT widget\n// RootPanel.get().add(chart);\n')),Object(i.b)("img",{src:Object(o.a)("/img/gettingStarted.png")}),Object(i.b)("h2",{id:"javascript-resources"},"Javascript resources"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Charba")," injects javascript resources, in order to have a self-consistent package without any dependencies with other configuration (for instance in the HTML page of application)."),Object(i.b)("p",null,"Injecting javascript resources, the application could be pretty big, mainly due to ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," minified file that is more than 200 KB of size."),Object(i.b)("p",null,"Therefore, as of version 2.3, ",Object(i.b)("strong",{parentName:"p"},"Charba")," forces the user to define which kind of resources must be applied to own project, before starting using ",Object(i.b)("strong",{parentName:"p"},"Charba"),". That means before calling whatever ",Object(i.b)("strong",{parentName:"p"},"Charba")," API, the resource to use to inject ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," must be set, otherwise an exception will occur."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Charba")," injects also  the ",Object(i.b)("a",{parentName:"p",href:"https://moment.github.io/luxon/"},"Luxon")," and the specific ",Object(i.b)("a",{parentName:"p",href:"https://github.com/chartjs/chartjs-adapter-luxon"},"adapter")," in order to enable the ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," time and time series axes feature."),Object(i.b)("h3",{id:"embedded-resources"},"Embedded resources"),Object(i.b)("p",null,"An embedded resource contains the javascript code to inject inside a specific class and, when invoked, it will inject the code in the DOM tree."),Object(i.b)("p",null,"To initialize ",Object(i.b)("strong",{parentName:"p"},"Charba")," using the embedded resources, you must set enable ",Object(i.b)("strong",{parentName:"p"},"Charba")," (and that's ",Object(i.b)("strong",{parentName:"p"},"mandatory"),"), as following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// with date time library, Luxon\nCharba.enable();\n// or without date time library, Luxon\nCharba.enable(false);\n")),Object(i.b)("p",null,"There are 2 different ",Object(i.b)("inlineCode",{parentName:"p"},"embedded resources")," instances depending on if ",Object(i.b)("a",{parentName:"p",href:"https://moment.github.io/luxon/"},"Luxon"),", as date time library, has to be injected or not."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"Charba.enable()")," injects ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS")," javascript file, ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," and the specific date ",Object(i.b)("a",{parentName:"li",href:"https://github.com/chartjs/chartjs-adapter-luxon"},"adapter"),"."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"Charba.enable(false)")," injects ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS")," javascript file and the specific date ",Object(i.b)("a",{parentName:"li",href:"https://github.com/chartjs/chartjs-adapter-luxon"},"adapter"),". ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," is not injected in order to leave the user to use another instance of ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," because, for instance, it could be already in use for other purposes.")),Object(i.b)("h3",{id:"deferred-resources"},"Deferred resources"),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",{parentName:"div",className:"admonition-heading"},Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",{parentName:"h5",className:"admonition-icon"},Object(i.b)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),Object(i.b)("div",{parentName:"div",className:"admonition-content"},Object(i.b)("p",{parentName:"div"},"The deferred resources can be used ONLY in GWT Web Toolkit projects."))),Object(i.b)("p",null,"A deferred resource contains the javascript code to inject by GWT ",Object(i.b)("a",{parentName:"p",href:"http://www.gwtproject.org/doc/latest/DevGuideClientBundle.html#TextResource"},"ClientBundle")," and it will be injected in the DOM tree by ",Object(i.b)("a",{parentName:"p",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/DeferredCharba.html"},"DeferredCharba"),"."),Object(i.b)("p",null,"For users who wants to leverage on asynchronously loading of ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," module, date time library and adapter or want to leverage on ",Object(i.b)("a",{parentName:"p",href:"http://www.gwtproject.org/doc/latest/DevGuideCodeSplitting.html"},"GWT code splitting"),", they should use the deferred resources and start using ",Object(i.b)("strong",{parentName:"p"},"Charba")," inside the callback of successfully load of needed resources."),Object(i.b)("p",null,"To initialize ",Object(i.b)("strong",{parentName:"p"},"Charba")," using the deferred resources, you must set enable ",Object(i.b)("strong",{parentName:"p"},"Charba")," (and that's ",Object(i.b)("strong",{parentName:"p"},"mandatory"),"), as following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'GWT.runAsync(new RunAsyncCallback(){\n    @Override\n    public void onFailure(Throwable throwable){\n        Window.alert("Code download failed");\n    }\n\n    @Override\n    public void onSuccess(){\n        // with date time library, Luxon\n        DeferredCharba.enable(() -> {\n            // UI creation and starting point to invoke CHARBA API\n        });\n        // without date time library, Luxon\n        //DeferredCharba.enable(() -> {\n        //  // UI creation and starting point to invoke CHARBA API\n        //}, false);\n    }\n});\n')),Object(i.b)("p",null,"There are 2 different ",Object(i.b)("inlineCode",{parentName:"p"},"deferred resources")," instances depending on if ",Object(i.b)("a",{parentName:"p",href:"https://moment.github.io/luxon/"},"Luxon"),", as date time library, has to be injected or not:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"DeferredCharba.enable(Runnable)")," injects ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS")," javascript file, ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," and the specific date ",Object(i.b)("a",{parentName:"li",href:"https://github.com/chartjs/chartjs-adapter-luxon"},"adapter"),"."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("inlineCode",{parentName:"li"},"DeferredCharba.enable(Runnable, false)")," injects ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS")," javascript file and the specific date ",Object(i.b)("a",{parentName:"li",href:"https://github.com/chartjs/chartjs-adapter-luxon"},"adapter"),". ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," is not injected in order to leave the user to use another instance of ",Object(i.b)("a",{parentName:"li",href:"https://moment.github.io/luxon/"},"Luxon")," because, for instance, it could be already in use for other purposes.")),Object(i.b)("h2",{id:"polyfilling-your-project"},"Polyfilling your project"),Object(i.b)("p",null,"Leveraging on ",Object(i.b)("a",{parentName:"p",href:"http://www.gwtproject.org/doc/latest/DevGuideCodingBasicsJsInterop.html"},"JSINTEROP"),", some aged browsers because of Javascript language implementation can not provide all methods needed to JSINTEROP."),Object(i.b)("p",null,"The common solution is to apply a polyfill, which is adding the ",Object(i.b)("inlineCode",{parentName:"p"},"missing pieces")," without which nothing would work as expected.\nPolyfills are in fact a very bad thing, as long as they are a very big thing. "),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Don't add them unless you need them.")," "),Object(i.b)("p",null,"The following sections will be described a couple of ways to apply a polyfill in your GWT application in order top use ",Object(i.b)("strong",{parentName:"p"},"Charba"),". "),Object(i.b)("h3",{id:"polyfilling-bj-corejs"},"Polyfilling bj ",Object(i.b)("inlineCode",{parentName:"h3"},"CoreJs")),Object(i.b)("p",null,"Looking for a polyfill implementation, we landed on ",Object(i.b)("a",{parentName:"p",href:"https://github.com/zloirock/core-js"},"CoreJs"),". "),Object(i.b)("p",null,"What is ",Object(i.b)("inlineCode",{parentName:"p"},"core-js"),"?"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"It is a polyfill of the JavaScript standard library, which supports:",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The latest ECMAScript standard."),Object(i.b)("li",{parentName:"ul"},"ECMAScript standard library proposals."),Object(i.b)("li",{parentName:"ul"},"Some WHATWG / W3C standards (cross-platform or closely related ECMAScript)."))),Object(i.b)("li",{parentName:"ul"},"It is maximally modular: you can easily choose to load only the features you will be using."),Object(i.b)("li",{parentName:"ul"},"It can be used without polluting the global namespace.")),Object(i.b)("p",null,"It's the most universal and the most popular way to polyfill JavaScript standard library."),Object(i.b)("p",null,"The following steps describe how to polyfill your application by CoreJs."),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"Get CoreJs"),". Seeing the ",Object(i.b)("a",{parentName:"li",href:"https://github.com/zloirock/core-js#installation"},"CoreJs installation section"),", there is official link where you can download the last version of CoreJs. "),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"Add to your project"),". You can save the minified CoreJs file in your project, for instance in your WAR folder, the same folder of html page."),Object(i.b)("li",{parentName:"ol"},Object(i.b)("strong",{parentName:"li"},"Change your html page"),". You can add the following HTML script tag in you web page, in the ",Object(i.b)("inlineCode",{parentName:"li"},"head")," section, before loading your application:")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},' <head>\n    ...\n    <script src="corejs.min.js"><\/script>\n    <script type="text/javascript" src="your_application/your_application.nocache.js"><\/script>\n    ...\n </head>\n')),Object(i.b)("p",null,"That's all. "),Object(i.b)("h3",{id:"polyfilling-bj-polyfillio"},"Polyfilling bj ",Object(i.b)("inlineCode",{parentName:"h3"},"polyfill.io")),Object(i.b)("p",null,"Even if it needs a internet connection, you can leverage on ",Object(i.b)("a",{parentName:"p",href:"https://polyfill.io/v3/"},"polyfill.io"),"."),Object(i.b)("p",null,"What is ",Object(i.b)("inlineCode",{parentName:"p"},"polyfill.io"),"?"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"It's a service which accepts a request for a set of browser features and returns only the polyfills that are needed by the requesting browser. ")),Object(i.b)("p",null,"To activate the polyfill by ",Object(i.b)("inlineCode",{parentName:"p"},"polyfill.io"),", you just need to add the following HTML script tag in you web page, in the ",Object(i.b)("inlineCode",{parentName:"p"},"head")," section, before loading your application:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-html"},' <head>\n    ...\n    <script src="https://polyfill.io/v3/polyfill.js?features=es5,es6,es7"><\/script>\n    <script type="text/javascript" src="your_application/your_application.nocache.js"><\/script>\n    ...\n </head>\n')))}p.isMDXComponent=!0},209:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return h}));var r=a(0),n=a.n(r);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=n.a.createContext({}),b=function(e){var t=n.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},p=function(e){var t=b(e.components);return n.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(a),u=r,h=p["".concat(o,".").concat(u)]||p[u]||d[u]||i;return a?n.a.createElement(h,l(l({ref:t},s),{},{components:a})):n.a.createElement(h,l({ref:t},s))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var s=2;s<i;s++)o[s]=a[s];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,a)}u.displayName="MDXCreateElement"},210:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var r=a(16),n=a(211);function i(){var e=Object(r.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,a=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,a,r){var i=void 0===r?{}:r,o=i.forcePrependBaseUrl,l=void 0!==o&&o,c=i.absolute,s=void 0!==c&&c;if(!a)return a;if(a.startsWith("#"))return a;if(Object(n.b)(a))return a;if(l)return t+a;var b=a.startsWith(t)?a:t+a.replace(/^\//,"");return s?e+b:b}(i,a,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},211:function(e,t,a){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function n(e){return void 0!==e&&!r(e)}a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}))}}]);