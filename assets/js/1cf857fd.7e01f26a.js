(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{213:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=r.a.createContext({}),h=function(e){var t=r.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=h(e.components);return r.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},g=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=h(n),g=a,d=u["".concat(o,".").concat(g)]||u[g]||p[g]||i;return n?r.a.createElement(d,l(l({ref:t},c),{},{components:n})):r.a.createElement(d,l({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},214:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(16),r=n(215);function i(){var e=Object(a.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,a){var i=void 0===a?{}:a,o=i.forcePrependBaseUrl,l=void 0!==o&&o,s=i.absolute,c=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if(Object(r.b)(n))return n;if(l)return t+n;var h=n.startsWith(t)?n:t+n.replace(/^\//,"");return c?e+h:h}(i,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},215:function(e,t,n){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!a(e)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}))},92:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return c})),n.d(t,"default",(function(){return u}));var a=n(3),r=n(8),i=(n(0),n(213)),o=n(214),l={id:"Plugins",title:"Plugins",hide_title:!0,sidebar_label:"Implementing a plugin"},s={unversionedId:"plugins/Plugins",id:"plugins/Plugins",isDocsHomePage:!1,title:"Plugins",description:"Plugins",source:"@site/docs/plugins/Plugins.md",sourceDirName:"plugins",slug:"/plugins/Plugins",permalink:"/Charba-Wiki/docs/plugins/Plugins",version:"current",sidebar_label:"Implementing a plugin",frontMatter:{id:"Plugins",title:"Plugins",hide_title:!0,sidebar_label:"Implementing a plugin"},sidebar:"docs",previous:{title:"Date adapters",permalink:"/Charba-Wiki/docs/DateAdapters"},next:{title:"Chart background color plugin",permalink:"/Charba-Wiki/docs/plugins/PluginBackgroundColor"}},c=[{value:"Plugins",id:"plugins",children:[]},{value:"Registering",id:"registering",children:[{value:"Globally",id:"globally",children:[]},{value:"At chart level",id:"at-chart-level",children:[]}]},{value:"Plugin ID",id:"plugin-id",children:[]},{value:"Options",id:"options",children:[{value:"Global options",id:"global-options",children:[]},{value:"Global chart type options",id:"global-chart-type-options",children:[]},{value:"Chart configuration",id:"chart-configuration",children:[]},{value:"Dataset configuration",id:"dataset-configuration",children:[]},{value:"Accessing to the options from plugins",id:"accessing-to-the-options-from-plugins",children:[]}]},{value:"Disabling plugins",id:"disabling-plugins",children:[]},{value:"Hooks",id:"hooks",children:[{value:"Initializating",id:"initializating",children:[]},{value:"Registering and activating",id:"registering-and-activating",children:[]},{value:"Updating or reconfiguring",id:"updating-or-reconfiguring",children:[]},{value:"Rendering",id:"rendering",children:[]},{value:"Building scales",id:"building-scales",children:[]},{value:"Tooltip drawing",id:"tooltip-drawing",children:[]},{value:"Events",id:"events",children:[]},{value:"Resizing, resetting and destroying",id:"resizing-resetting-and-destroying",children:[]}]}],h={toc:c};function u(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},h,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"plugins"},"Plugins"),Object(i.b)("p",null,"Plugins are the most efficient way to customize or change the default behavior of a chart. Leveraging on ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," implementation, ",Object(i.b)("strong",{parentName:"p"},"Charba")," provides the features to set a plugin both at global and at chart level (inline plugin)."),Object(i.b)("img",{src:Object(o.a)("/img/plugins.png")}),Object(i.b)("p",null,"A plugin must implement the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin")," interface."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// creates my plugin \nPlugin myPlugin = new Plugin(){\n            \n    @Override\n    public String getId(){\n        return "myplugin";\n    }\n\n    @Override\n    public boolean onBeforeUpdate(IsChart chart, PluginUpdateArgument argument){\n        // my logic\n        return true;\n    }\n    \n};\n// registers my plugin to the chart\nchart.getPlugins().add(myPlugin);\n')),Object(i.b)("p",null,"An easy way to implement a plugin is also to extends the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/plugins/AbstractPlugin.html"},"AbstractPlugin")," class as following: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// creates my plugin \nAbstractPlugin myPlugin = new AbstractPlugin("myplugin"){\n\n    @Override\n    public boolean onBeforeUpdate(IsChart chart, PluginUpdateArgument argument){\n        // my logic\n        return true;\n    }\n\n};\n// registers my plugin to the chart\nchart.getPlugins().add(myPlugin);\n')),Object(i.b)("h2",{id:"registering"},"Registering"),Object(i.b)("p",null,"Every plugin must be registered to the chart or the the default before the charts will start using it."),Object(i.b)("h3",{id:"globally"},"Globally"),Object(i.b)("p",null,"A plugin can be registered/unregistered at global level, which means that the plugin instance will be triggered by all charts instances. "),Object(i.b)("p",null,"The global registration is performed as following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// --------------------------------\n// REGISTER plugin for all charts\n// --------------------------------\nDefaults.get().getPlugins().register(new ChartBackgroundColor());\n\n// --------------------------------\n// UNREGISTER the "pluginid" plugin\n// --------------------------------\nDefaults.get().getPlugins().unregister("pluginid");\n')),Object(i.b)("h3",{id:"at-chart-level"},"At chart level"),Object(i.b)("p",null,"A plugin can be registered/unregistered at chart level, which means that the plugin instance will be triggered only by that chart instance. "),Object(i.b)("p",null,"The chart registration is performed as following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// creates my plugin \nAbstractPlugin myPlugin = new AbstractPlugin("myplugin"){\n\n    @Override\n    public boolean onBeforeUpdate(IsChart chart, PluginUpdateArgument argument){\n        // my logic\n        return true;\n    }\n\n};\n// registers my plugin to the chart\nchart.getPlugins().add(myPlugin);\n')),Object(i.b)("h2",{id:"plugin-id"},"Plugin ID"),Object(i.b)("p",null,"Plugins must define a unique id in order to be configurable."),Object(i.b)("p",null,"This id should follow the name convention (otherwise an ",Object(i.b)("a",{parentName:"p",href:"https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html"},"illegal argument")," exception will be thrown):"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"can not start with a dot or an underscore"),Object(i.b)("li",{parentName:"ul"},"can not contain any non-URL-safe characters")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// creates my plugin \nAbstractPlugin myPlugin = new AbstractPlugin(\"_myPlugin\"){\n    ...\n};\n// registers my plugin to the chart\nchart.getPlugins().add(myPlugin); // <-- throws IllegalArgumentException\n                                  // because there is '_' and an char in upper-case\n")),Object(i.b)("h2",{id:"options"},"Options"),Object(i.b)("p",null,"A plugin could need to be configured. Apart the public methods that every plugin can expose to set specific values and to be aligned with ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," way to pass configuration to plugins, the chart options can host the configuration of the plugin which could be read at runtime."),Object(i.b)("p",null,"The ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/configuration/Plugins.html"},"plugins")," configuration is nested in the configuration using "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// get plugins options container from chart configuration\nPlugins plugins = chart.getOptions().getPlugins();\n")),Object(i.b)("p",null,"The plugin options must extend ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/plugins/AbstractPluginOptions.html"},"AbstractPluginOptions")," and leverage on available methods to store the plugin configuration."),Object(i.b)("p",null,"Furthermore, every plugin needs to have a factory which must be an implementation of ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/plugins/AbstractPluginOptionsFactory.html"},"AbstractPluginOptionsFactory"),") interface necessary to enable ",Object(i.b)("strong",{parentName:"p"},"Charba")," to create your options, passing the javascript object which maintain the configuration."),Object(i.b)("p",null,"A plugin can consume configuration by options from:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#global-options"},"Global options")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#global-chart-type-options"},"Global chart options"),", based on chart type"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#chart-configuration"},"Chart options")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#dataset-configuration"},"Datasets")," ")),Object(i.b)("h3",{id:"global-options"},"Global options"),Object(i.b)("p",null,"A plugin can have a default configuration that can be used from all plugin instances on all charts."),Object(i.b)("p",null,"Here are some examples how to get and store the options in the defaults: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// creates the options\nChartBackgroundColorOptions option = new ChartBackgroundColorOptions();\noption.setBackgroundColor(HtmlColor.GREEN);\n\n// --------------------------------------\n// STORING plugin options\n// --------------------------------------\n// stores the plugin options by plugin ID\nDefaults.get().getGlobal().getPlugin().setOptions(ChartBackgroundColor.ID, options);\n// stores the plugin options without plugin ID\nDefaults.get().getGlobal().getPlugin().setOptions(options);\n// stores the plugin options directly by the options\noptions.store();\n\n// --------------------------------------\n// GETTING plugin options\n// --------------------------------------\nif (Defaults.get().getGlobal().getPlugin().hasOptions(ChartBackgroundColor.ID)){\n   // retrieves the plugin options by plugin ID\n   options = Defaults.get().getGlobal().getPlugin().getOptions(ChartBackgroundColor.ID, ChartBackgroundColor.FACTORY);\n   // retrieves the plugin options without plugin ID\n   options = Defaults.get().getGlobal().getPlugin().getOptions(ChartBackgroundColor.FACTORY);\n}\n")),Object(i.b)("h3",{id:"global-chart-type-options"},"Global chart type options"),Object(i.b)("p",null,"You can set a default plugin configuration for a specific type of chart that can be used from all plugin instances on all charts of that type."),Object(i.b)("p",null,"Here are some examples how to get and store the options in the chart type defaults options: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// creates the options\nChartBackgroundColorOptions option = new ChartBackgroundColorOptions();\noption.setBackgroundColor(HtmlColor.GREEN);\n\n// --------------------------------------\n// STORING plugin options\n// --------------------------------------\n// stores the plugin options by plugin ID\nDefaults.get().getOptions(ChartType.BAR).getPlugin().setOptions(ChartBackgroundColor.ID, options);\n// stores the plugin options without plugin ID\nDefaults.get().getOptions(ChartType.BAR).getPlugin().setOptions(options);\n// stores the plugin options directly by the options\noptions.store(ChartType.BAR);\n\n// --------------------------------------\n// GETTING plugin options\n// --------------------------------------\nif (Defaults.get().getOptions(ChartType.BAR).getPlugin().hasOptions(ChartBackgroundColor.ID)){\n   // retrieves the plugin options by plugin ID\n   options = Defaults.get().getOptions(ChartType.BAR).getPlugin().getOptions(ChartBackgroundColor.ID, ChartBackgroundColor.FACTORY);\n   // retrieves the plugin options without plugin ID\n   options = Defaults.get().getOptions(ChartType.BAR).getPlugin().getOptions(ChartBackgroundColor.FACTORY);\n}\n")),Object(i.b)("h3",{id:"chart-configuration"},"Chart configuration"),Object(i.b)("p",null,"You can set a plugin configuration for a chart that can be used only on that chart instance."),Object(i.b)("p",null,"Here are some examples how to get and store the options in the chart configuration: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// creates the chart\nBarChart chart = new BarChart();\n// creates the options\nChartBackgroundColorOptions option = new ChartBackgroundColorOptions();\noption.setBackgroundColor(HtmlColor.GREEN);\n\n// --------------------------------------\n// STORING plugin options\n// --------------------------------------\n// stores the plugin options by plugin ID\nchart.getOptions().getPlugin().setOptions(ChartBackgroundColor.ID, options);\n// stores the plugin options without plugin ID\nchart.getOptions().getPlugin().setOptions(options);\n// stores the plugin options directly by the options\noptions.store(chart);\n\n// --------------------------------------\n// GETTING plugin options\n// --------------------------------------\nif (chart.getOptions().getPlugin().hasOptions(ChartBackgroundColor.ID)){\n   // retrieves the plugin options by plugin ID\n   chart.getOptions().getPlugin().getOptions(ChartBackgroundColor.ID, ChartBackgroundColor.FACTORY);\n   //retrieves the plugin options without plugin ID\n   chart.getOptions().getPlugin().getOptions(ChartBackgroundColor.FACTORY);\n}\n")),Object(i.b)("h3",{id:"dataset-configuration"},"Dataset configuration"),Object(i.b)("p",null,"A plugin can also act at dataset level and you can set a plugin configuration for a dataset that can be used only on that dataset instance."),Object(i.b)("p",null,"Here are some examples how to get and store the options in the dataset configuration: "),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"// creates the chart\nBarChart chart = new BarChart();\n// creates the dataset\nBarDataset dataset = chart.newDataset();\n// creates the options\nDataLabelsOptions option = new DataLabelsOptions();\noption.setDisplay(true);\n\n// --------------------------------------\n// STORING plugin options\n// --------------------------------------\n// stores the plugin options by plugin ID\ndataset.setOptions(DataLabelsPlugin.ID, options);\n// stores the plugin options without plugin ID\ndataset.getPlugin().setOptions(options);\n// stores the plugin options directly by the options\noptions.store(dataset);\n\n// --------------------------------------\n// GETTING plugin options\n// --------------------------------------\nif (dataset.hasOptions(DataLabelsPlugin.ID)){\n   // --------------------------------------\n   // retrieve the plugin options by plugin ID\n   // --------------------------------------\n   options = dataset.getOptions(DataLabelsPlugin.ID, DataLabelsPlugin.FACTORY);\n   // --------------------------------------\n   // or retrieve the plugin options without plugin ID\n   // --------------------------------------\n   options = dataset.getOptions(DataLabelsPlugin.FACTORY);\n}\n")),Object(i.b)("h3",{id:"accessing-to-the-options-from-plugins"},"Accessing to the options from plugins"),Object(i.b)("p",null,"The implementation of plugin usually needs to access to the plugin configuration to enable the right behaviors based on the user configuration."),Object(i.b)("p",null,"Inside the plugin, the chart instance can provide a ",Object(i.b)("a",{parentName:"p",href:"../charts/Api#getwholeoptions"},"method")," to get the whole configuration of the chart where also the defaults at different levels are applied."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// creates my plugin \nAbstractPlugin myPlugin = new AbstractPlugin("myplugin"){\n\n    @Override\n    public boolean onBeforeUpdate(IsChart chart, PluginUpdateArgument argument){\n        // get options reference\n        MyPluginOptions myOptions = null;\n        // loads chart options for the chart\n        IsDefaultScaledOptions options = chart.getWholeOptions();\n        // retrieves the plugin options\n        if (options.getPlugins().hasOptions("myplugin")){\n            myOptions = options.getPlugins().getOptions("myplugin", myFactory);\n        }\n        return true;\n    }\n\n};\n// registers my plugin to the chart\nchart.getPlugins().add(myPlugin);\n')),Object(i.b)("h2",{id:"disabling-plugins"},"Disabling plugins"),Object(i.b)("p",null,"You can also enable or disable them at chart level, as following:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},'// disables the tooltip to the chart\nchart.getOptions().getPlugins().setEnabled(DefaultPluginId.TOOLTIP, false);\n\n// disables the "pluginid" plugin\nchart.getOptions().getPlugins().setEnabled("pluginid", true);\n')),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS")," provides a set of plugins out-of-the-box. All their ids are mapped to ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/enums/DefaultPluginId.html"},"DefaultPluginId")," enumeration."),Object(i.b)("h2",{id:"hooks"},"Hooks"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin")," interface provides all possible hooks or methods which will invoked during the life cycle of the chart or when an event or conditions is occurring."),Object(i.b)("p",null,"All hooks are defined with a default therefore you can implement only what you need. The hooks have got different purposes:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#initializating"},"Initialization")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#registering-and-activating"},"Registering and activating")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#updating-or-reconfiguring"},"Updating or reconfiguring")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#rendering"},"Rendering")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#building-scales"},"Building scales")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#tooltip-drawing"},"Tooltip drawing")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#events"},"Events")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#resizing-resetting-and-destroying"},"Resizing, resetting and destroying"))),Object(i.b)("h3",{id:"initializating"},"Initializating"),Object(i.b)("p",null,"Plugins are notified during the initialization process."),Object(i.b)("p",null,"The process is triggered when ",Object(i.b)("strong",{parentName:"p"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#draw"},"draw method"))," of the chart is invoked."),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to setup data needed for the plugin to operate:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before initializing configuration of 'chart'.\n * \n * @param chart the chart instance.\n */\ndefault void onConfigure(IsChart chart){\n}\n\n/**\n * Called before initializing 'chart'.\n * \n * @param chart the chart instance.\n */\ndefault void onBeforeInit(IsChart chart){\n}\n\n/**\n * Called after 'chart' has been initialized and before the first update.\n * \n * @param chart the chart instance.\n * @param nativeChart CHART.JS chart instance\n */\ndefault void onAfterInit(IsChart chart, Chart nativeChart){\n}\n/**\n * Called after the chart as been resized.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the new canvas display size\n */\ndefault void onResize(IsChart chart, PluginResizeArgument argument){\n}\n")),Object(i.b)("p",null,"The initialization process is documented in the flowchart below."),Object(i.b)("img",{src:Object(o.a)("/img/pluginFlowCharts-Chart Init.png")}),Object(i.b)("h3",{id:"registering-and-activating"},"Registering and activating"),Object(i.b)("p",null,"Plugins are notified during throughout the plugin installation and activation process. "),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the plugin registering or activating:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called when plugin is installed for this chart instance.\n * This hook is also invoked for disabled plugins (options equals to false).\n * \n * @param chart the chart instance.\n */\ndefault void onInstall(IsChart chart){\n}\n\n/**\n * Called when a plugin is starting.\n * This happens when chart is created or plugin is enabled.\n * \n * @param chart the chart instance.\n */\ndefault void onStart(IsChart chart){\n}\n\n/**\n * Called when a plugin stopping.\n * This happens when chart is destroyed or plugin is disabled.\n * \n * @param chart the chart instance.\n */\ndefault void onStop(IsChart chart){\n}\n\n/**\n * Called after chart is destroyed on all plugins that were installed for that chart.\n * This hook is also invoked for disabled plugins (options equals to false).\n * \n * @param chart the chart instance.\n */\ndefault void onUninstall(IsChart chart){\n}\n")),Object(i.b)("h3",{id:"updating-or-reconfiguring"},"Updating or reconfiguring"),Object(i.b)("p",null,"Plugins are notified during throughout the ",Object(i.b)("a",{parentName:"p",href:"../charts/Api#update"},"update")," process. "),Object(i.b)("p",null,"The process is triggered when "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#draw"},"draw method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#update"},"update method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#reconfigure"},"reconfigure method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#resize"},"resize method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},"a resize event from the browser has been caught by ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS"),".")),Object(i.b)("p",null,"The same notification are provided even if the chart is ",Object(i.b)("a",{parentName:"p",href:"../charts/Api#reconfigure"},"reconfigured"),". The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the chart updating or reconfiguring:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before every drawing cycle, coming from initialization, updating or rendering of \n * chart.\n * \n * @param chart the chart instance\n * @param overridePreviousUpdate if true the drawing was already running.\n */\ndefault void onBeginDrawing(IsChart chart, boolean overridePreviousUpdate){\n}\n\n/**\n * Called before updating 'chart'.\n * If any plugin returns false, the update is cancelled (and thus subsequent render(s)) \n * until another 'update' is triggered.\n * \n * @param chart the chart instance.\n * @param argument the argument passed for update\n * @return false to cancel the chart update.\n */\ndefault boolean onBeforeUpdate(IsChart chart, PluginUpdateArgument argument){\n    return true;\n}\n\n/**\n * Called after 'chart' has been updated and before rendering.\n * Note that this hook will not be called if the chart update has been previously cancelled.\n * \n * @param chart the chart instance.\n * @param argument the argument passed for update\n */\ndefault void onAfterUpdate(IsChart chart, PluginUpdateArgument argument){\n}\n\n/**\n * Called during the update process, before any chart elements have been created.\n * \n * @param chart the chart instance.\n */\ndefault void onBeforeElementsUpdate(IsChart chart){\n}\n\n/**\n * Called before laying out 'chart'.\n * If any plugin returns false, the layout update is cancelled until another 'update' is\n * triggered.\n * \n * @param chart the chart instance.\n * @return false to cancel the chart layout.\n */\ndefault boolean onBeforeLayout(IsChart chart){\n    return true;\n}\n\n/**\n * Called after the 'chart' has been layed out.\n * Note that this hook will not be called if the layout update has been previously cancelled.\n * \n * @param chart the chart instance.\n */\ndefault void onAfterLayout(IsChart chart){\n}\n\n/**\n * Called before updating the 'chart' datasets.\n * If any plugin returns false, the datasets update is cancelled until another \n * 'update' is triggered.\n * \n * @param chart the chart instance.\n * @param argument the argument passed for update\n * @return false to cancel the datasets update.\n */\ndefault boolean onBeforeDatasetsUpdate(IsChart chart, PluginUpdateArgument argument){\n    return true;\n}\n\n/**\n * Called after the 'chart' datasets have been updated.\n * Note that this hook will not be called if the datasets update has been previously cancelled.\n * \n * @param chart the chart instance.\n * @param argument the argument passed for update\n */\ndefault void onAfterDatasetsUpdate(IsChart chart, PluginUpdateArgument argument){\n}\n\n/**\n * Called before updating the 'chart' dataset at the given 'args.index'.\n * If any plugin returns false, the datasets update is cancelled until another\n * 'update' is triggered.\n * \n * @param chart the chart instance.\n * @param item the dataset item.\n * @return false to cancel the chart datasets drawing.\n */\ndefault boolean onBeforeDatasetUpdate(IsChart chart, PluginDatasetArgument item){\n    return true;\n}\n\n/**\n * Called after the 'chart' datasets at the given 'args.index' has been updated.\n * Note that this hook will not be called if the datasets update has been previously cancelled.\n * \n * @param chart the chart instance.\n * @param item the dataset item.\n */\ndefault void onAfterDatasetUpdate(IsChart chart, PluginDatasetArgument item){\n}\n")),Object(i.b)("p",null,"The updating and reconfiguring process is documented in the flowchart below."),Object(i.b)("img",{src:Object(o.a)("/img/pluginFlowCharts-Chart update.png")}),Object(i.b)("h3",{id:"rendering"},"Rendering"),Object(i.b)("p",null,"Plugins can interact with the chart throughout the render process. "),Object(i.b)("p",null,"The process is triggered when "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#updating-or-reconfiguring"},"updating or reconfiguring process")," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#render"},"render method"))," of the chart is invoked.")),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the chart rendering:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before rendering 'chart'. \n * If any plugin returns false, the rendering is cancelled until another 'render' is triggered.\n * \n * @param chart the chart instance.\n * @return false to cancel the chart rendering.\n */\ndefault boolean onBeforeRender(IsChart chart){\n    return true;\n}\n\n/**\n * Called after the 'chart' has been fully rendered (and animation completed).\n * Note that this hook will not be called if the rendering has been previously cancelled.\n * \n * @param chart the chart instance.\n */\ndefault void onAfterRender(IsChart chart){\n}\n\n/**\n * Called before drawing 'chart' at every animation frame. If any plugin returns false,\n * the frame drawing is cancelled until another 'render' is triggered.\n * \n * @param chart the chart instance.\n * @return false to cancel the chart drawing.\n */\ndefault boolean onBeforeDraw(IsChart chart){\n    return true;\n}\n\n/**\n * Called after the 'chart' has been drawn.\n * Note that this hook will not be called if the drawing has been previously cancelled.\n * \n * @param chart the chart instance.\n */\ndefault void onAfterDraw(IsChart chart){\n}\n\n/**\n * Called before drawing the 'chart' datasets. \n * If any plugin returns false, the datasets drawing is cancelled until another 'render'\n * is triggered.\n * \n * @param chart the chart instance.\n * @return false to cancel the chart datasets drawing.\n */\ndefault boolean onBeforeDatasetsDraw(IsChart chart){\n    return true;\n}\n\n/**\n * Called after the 'chart' datasets have been drawn.\n * Note that this hook will not be called if the datasets drawing has been previously\n * cancelled.\n * \n * @param chart the chart instance.\n */\ndefault void onAfterDatasetsDraw(IsChart chart){\n}\n\n/**\n * Called before drawing the 'chart' dataset at the given 'index' (datasets are drawn\n * in the reverse order).\n * If any plugin returns false, the datasets drawing is cancelled until another\n * 'render' is triggered.\n * \n * @param chart the chart instance.\n * @param item the dataset item.\n * @return false to cancel the chart datasets drawing.\n */\ndefault boolean onBeforeDatasetDraw(IsChart chart, PluginDatasetArgument item){\n    return true;\n}\n\n/**\n * Called after the 'chart' datasets at the given 'args.index' have been drawn (datasets\n * are drawn in the reverse order).\n * Note that this hook will not be called if the datasets drawing has been previously cancelled.\n * \n * @param chart the chart instance.\n * @param item the dataset item.\n */\ndefault void onAfterDatasetDraw(IsChart chart, PluginDatasetArgument item){\n}\n\n/**\n * Called after every drawing cycle, coming from initialization, updating or rendering of chart.\n * \n * @param chart the chart instance\n */\ndefault void onEndDrawing(IsChart chart){\n}\n")),Object(i.b)("p",null,"The rendering process is documented in the flowchart below."),Object(i.b)("img",{src:Object(o.a)("/img/pluginFlowCharts-Chart render.png")}),Object(i.b)("h3",{id:"building-scales"},"Building scales"),Object(i.b)("p",null,"Plugins are notified during the scales and ticks building process. "),Object(i.b)("p",null,"The process is triggered when ",Object(i.b)("a",{parentName:"p",href:"#updating-or-reconfiguring"},"updating or reconfiguring process")," of the chart is invoked."),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the chart updating or reconfiguring:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before scale data limits are calculated.\n * This hook is called separately for each scale in the chart.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the scale instance.\n */\ndefault void onBeforeDataLimits(IsChart chart, PluginScaleArgument argument){\n}\n\n/**\n * Called after scale data limits are calculated.\n * This hook is called separately for each scale in the chart.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the scale instance.\n */\ndefault void onAfterDataLimits(IsChart chart, PluginScaleArgument argument){\n}\n\n/**\n * Called before scale builds its ticks.\n * This hook is called separately for each scale in the chart.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the scale instance.\n */\ndefault void onBeforeBuildTicks(IsChart chart, PluginScaleArgument argument){\n}\n\n/**\n * Called after scale has build its ticks.\n * This hook is called separately for each scale in the chart.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the scale instance.\n */\ndefault void onAfterBuildTicks(IsChart chart, PluginScaleArgument argument){\n}\n")),Object(i.b)("h3",{id:"tooltip-drawing"},"Tooltip drawing"),Object(i.b)("p",null,"Plugins are notified during the tooltip drawing process. "),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the tooltip drawing:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before drawing the 'tooltip'.\n * If any plugin returns false, the tooltip drawing is cancelled until another 'render' \n * is triggered.\n * \n * @param chart the chart instance.\n * @param item The tooltip instance.\n * @return false to cancel the chart tooltip drawing.\n */\ndefault boolean onBeforeTooltipDraw(IsChart chart, PluginTooltipArgument item){\n    return true;\n}\n\n/**\n * Called after drawing the 'tooltip'.\n * Note that this hook will not be called if the tooltip drawing has been previously cancelled.\n * \n * @param chart the chart instance.\n * @param item The tooltip instance.\n */\ndefault void onAfterTooltipDraw(IsChart chart, PluginTooltipArgument item){\n}\n")),Object(i.b)("h3",{id:"events"},"Events"),Object(i.b)("p",null,"Plugins are notified during the chart canvas event process. "),Object(i.b)("p",null,"The process is triggered when a resize event from the browser has been caught by ",Object(i.b)("a",{parentName:"p",href:"http://www.chartjs.org/"},"Chart.JS"),"."),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the canvas event process:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called before processing the specified 'event'.\n * If any plugin returns false, the event will be discarded.\n * \n * @param chart the chart instance.\n * @param argument instance which contains event context\n * @return false to discard the event.\n */\ndefault boolean onBeforeEvent(IsChart chart, PluginEventArgument argument){\n    return true;\n}\n\n/**\n * Called after the 'event' has been consumed.\n * Note that this hook will not be called if the 'event' has been previously discarded.\n * \n * @param chart the chart instance.\n * @param argument instance which contains event context\n */\ndefault void onAfterEvent(IsChart chart, PluginEventArgument argument){\n}\n")),Object(i.b)("h3",{id:"resizing-resetting-and-destroying"},"Resizing, resetting and destroying"),Object(i.b)("p",null,"Plugins are notified during the resize, reset and destroy processes. "),Object(i.b)("p",null,"The process is triggered when "),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#reset"},"reset method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#destroy"},"destroy method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},Object(i.b)("a",{parentName:"strong",href:"../charts/Api#resize"},"resize method"))," of the chart is invoked."),Object(i.b)("li",{parentName:"ul"},"a resize event from the browser has been caught by ",Object(i.b)("a",{parentName:"li",href:"http://www.chartjs.org/"},"Chart.JS"),".")),Object(i.b)("p",null,"The following hooks (the following one are the methods definitions in the ",Object(i.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/4.0/org/pepstock/charba/client/Plugin.html"},"Plugin"),") can be used to interact during the resize, reset and destroy processes:"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-java"},"/**\n * Called after the chart as been resized.\n * \n * @param chart the chart instance.\n * @param argument argument of method which contains the new canvas display size.\n */\ndefault void onResize(IsChart chart, PluginResizeArgument argument){\n}\n\n/**\n * Called during chart reset.\n * \n * @param chart the chart instance.\n */\ndefault void onReset(IsChart chart){\n}\n\n/**\n * Called after the chart as been destroyed.\n * \n * @param chart the chart instance.\n */\ndefault void onDestroy(IsChart chart){\n}\n")))}u.isMDXComponent=!0}}]);