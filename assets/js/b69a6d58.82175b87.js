(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{167:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return o})),t.d(a,"toc",(function(){return s})),t.d(a,"default",(function(){return b}));var n=t(3),l=t(8),r=(t(0),t(213)),c={id:"Callbacks",title:"Callbacks",hide_title:!0,sidebar_label:"Callbacks"},o={unversionedId:"Callbacks",id:"version-3.3/Callbacks",isDocsHomePage:!1,title:"Callbacks",description:"CHARBA callbacks implementations",source:"@site/versioned_docs/version-3.3/Callbacks.md",sourceDirName:".",slug:"/Callbacks",permalink:"/Charba-Wiki/docs/3.3/Callbacks",version:"3.3",sidebar_label:"Callbacks",frontMatter:{id:"Callbacks",title:"Callbacks",hide_title:!0,sidebar_label:"Callbacks"},sidebar:"version-3.3/docs",previous:{title:"HTML legend plugin",permalink:"/Charba-Wiki/docs/3.3/PluginHTMLLegend"},next:{title:"DataLabels plugin",permalink:"/Charba-Wiki/docs/3.3/DataLabels"}},s=[{value:"CHARBA callbacks implementations",id:"charba-callbacks-implementations",children:[]},{value:"AtLeastOneDatasetHandler event",id:"atleastonedatasethandler-event",children:[]},{value:"NoSelectedDatasetTicksCallback callback",id:"noselecteddatasettickscallback-callback",children:[]},{value:"DataLabelsPointerHandler handler",id:"datalabelspointerhandler-handler",children:[]},{value:"DataLabelsSelectionHandler handler",id:"datalabelsselectionhandler-handler",children:[]},{value:"PercentageCallback formatter",id:"percentagecallback-formatter",children:[]}],i={toc:s};function b(e){var a=e.components,t=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},i,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"charba-callbacks-implementations"},"CHARBA callbacks implementations"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides some callbacks or events out-of-the-box implementation, developed for common purposes."),Object(r.b)("h2",{id:"atleastonedatasethandler-event"},"AtLeastOneDatasetHandler event"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides a common implementation for legend click event handler to enable the control about how many datasets are hidden, in order to have at least 1 dataset visible and avoid to have an empty chart."),Object(r.b)("p",null,"The class is named ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/impl/callbacks/AtLeastOneDatasetHandler.html"},"AtLeastOneDatasetHandler"),"."),Object(r.b)("p",null,"To apply the event handler, you can set to the chart, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"chart.addHandler(new AtLeastOneDatasetHandler(), LegendClickEvent.TYPE);\n")),Object(r.b)("h2",{id:"noselecteddatasettickscallback-callback"},"NoSelectedDatasetTicksCallback callback"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides a common implementation for tick callback to set the decimal digits of ticks in case of all datasets are hidden, to avoid the annoying standard format of doubles."),Object(r.b)("p",null,"The class is named ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/impl/callbacks/NoSelectedDatasetTicksCallback.html"},"NoSelectedDatasetTicksCallback"),"."),Object(r.b)("p",null,"To apply the callback, you can set an instance to the axis options, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"axis.getTicks().setCallback(new NoSelectedDatasetTicksCallback());\n")),Object(r.b)("p",null,"The default decimal precision is ",Object(r.b)("inlineCode",{parentName:"p"},"2"),". A custom precision can be set by the constructor of callback, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"// 3 decimal digits \naxis.getTicks().setCallback(new NoSelectedDatasetTicksCallback(3));\n")),Object(r.b)("h2",{id:"datalabelspointerhandler-handler"},"DataLabelsPointerHandler handler"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides a common listener handler for ",Object(r.b)("a",{parentName:"p",href:"DataLabels#listeners-element"},"DATALABELS listener")," to change the cursor type when the labels are clickable."),Object(r.b)("p",null,"The class is named ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/impl/callbacks/DataLabelsPointerHandler.html"},"DataLabelsPointerHandler"),"."),Object(r.b)("p",null,"To apply the handler, you can set an instance to the DATALABEL options, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"DataLabelsPointerHandler handler = new DataLabelsPointerHandler();\n\nDataLabelsOptions options = new DataLabelsOptions();\noptions.setListenersHandler(handler);\n")),Object(r.b)("p",null,"The handler can be customized at constructor level, setting which ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/dom/enums/CursorType.html"},"cursor")," must be used hovering the labels, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"// uses the CursorType.POINTER\nDataLabelsPointerHandler handler = new DataLabelsPointerHandler();\n\n// uses the CursorType.CROSSHAIR\nDataLabelsPointerHandler handler = new DataLabelsPointerHandler(CursorType.CROSSHAIR);\n")),Object(r.b)("h2",{id:"datalabelsselectionhandler-handler"},"DataLabelsSelectionHandler handler"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides a common listener handler for ",Object(r.b)("a",{parentName:"p",href:"DataLabels#listeners-element"},"DATALABELS listener")," to invoke dataset selection handlers if there were defined. The handler accepts ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/events/DatasetSelectionEventHandler.html"},"DatasetSelectionEventHandler")," instances in order to notify which dataset has been selected clicking on the label."),Object(r.b)("p",null,"The class is named ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/impl/callbacks/DataLabelsSelectionHandler.html"},"DataLabelsSelectionHandler"),"."),Object(r.b)("p",null,"To apply a callback, you can set an instance to the DATALABEL options, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"DataLabelsSelectionHandler handler = new DataLabelsSelectionHandler();\n\nhandler.addDatasetSelectionEventHandler(new DatasetSelectionEventHandler() {\n    \n    /**\n     * Invoked when the user clicks on the chart to select a dataset.\n     * \n     * @param event chart dataset selection event\n     */         \n    @Override\n    public void onSelect(DatasetSelectionEvent event) {\n        // logic\n    }\n});\n\nDataLabelsOptions options = new DataLabelsOptions();\noptions.setListenersHandler(handler);\n")),Object(r.b)("p",null,"Against to the ",Object(r.b)("a",{parentName:"p",href:"General#onselect-event-for-dataset-selection"},"dataset selection event handler"),", at chart level, this invocation is synchronous."),Object(r.b)("p",null,"The handler can be customized at constructor level, setting which ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/dom/enums/CursorType.html"},"cursor")," must be used hovering the labels, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"// uses the CursorType.POINTER\nDataLabelsSelectionHandler handler = new DataLabelsSelectionHandler();\n\n// uses the CursorType.CROSSHAIR\nDataLabelsSelectionHandler handler = new DataLabelsSelectionHandler(CursorType.CROSSHAIR);\n")),Object(r.b)("h2",{id:"percentagecallback-formatter"},"PercentageCallback formatter"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Charba")," provides a common callback for ",Object(r.b)("a",{parentName:"p",href:"DataLabels#formatting"},"DATALABELS formatter")," in order to provide the percentage of the value for each data index per dataset."),Object(r.b)("p",null,"The class is named ",Object(r.b)("a",{parentName:"p",href:"https://pepstock-org.github.io/Charba/3.3/org/pepstock/charba/client/impl/callbacks/PercentageCallback.html"},"PercentageCallback"),"."),Object(r.b)("p",null,"To apply the callback, you can set an instance to the DATALABEL options, as following:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-java"},"PercentageCallback callback = new PercentageCallback();\n\nDataLabelsOptions options = new DataLabelsOptions();\noptions.setFormatter(callback);\n")),Object(r.b)("p",null,"The handler can be customized at constructor level, setting:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"decimal precision, in order to have a good number of decimal digits of percentage to show. Default is ",Object(r.b)("strong",{parentName:"li"},"2"),";"),Object(r.b)("li",{parentName:"ul"},"stacked, as boolean argument, in order to calculate the percentage on the total of the dataset (",Object(r.b)("inlineCode",{parentName:"li"},"false"),") or using the same data index of stacked datasets (",Object(r.b)("inlineCode",{parentName:"li"},"true"),"). Default is ",Object(r.b)("inlineCode",{parentName:"li"},"false"),".")))}b.isMDXComponent=!0},213:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return u}));var n=t(0),l=t.n(n);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,l=function(e,a){if(null==e)return{};var t,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(l[t]=e[t]);return l}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var i=l.a.createContext({}),b=function(e){var a=l.a.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},p=function(e){var a=b(e.components);return l.a.createElement(i.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return l.a.createElement(l.a.Fragment,{},a)}},h=l.a.forwardRef((function(e,a){var t=e.components,n=e.mdxType,r=e.originalType,c=e.parentName,i=s(e,["components","mdxType","originalType","parentName"]),p=b(t),h=n,u=p["".concat(c,".").concat(h)]||p[h]||d[h]||r;return t?l.a.createElement(u,o(o({ref:a},i),{},{components:t})):l.a.createElement(u,o({ref:a},i))}));function u(e,a){var t=arguments,n=a&&a.mdxType;if("string"==typeof e||n){var r=t.length,c=new Array(r);c[0]=h;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,c[1]=o;for(var i=2;i<r;i++)c[i]=t[i];return l.a.createElement.apply(null,c)}return l.a.createElement.apply(null,t)}h.displayName="MDXCreateElement"}}]);