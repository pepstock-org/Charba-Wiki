(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{180:function(t,e,a){"use strict";a.r(e),a.d(e,"frontMatter",(function(){return c})),a.d(e,"metadata",(function(){return o})),a.d(e,"toc",(function(){return l})),a.d(e,"default",(function(){return p}));var r=a(3),n=a(8),b=(a(0),a(209)),c={id:"ScriptableOptions",title:"Scriptable Options",hide_title:!0,sidebar_label:"Scriptable Options"},o={unversionedId:"configuration/ScriptableOptions",id:"configuration/ScriptableOptions",isDocsHomePage:!1,title:"Scriptable Options",description:"Scriptable options",source:"@site/docs/configuration/ScriptableOptions.md",sourceDirName:"configuration",slug:"/configuration/ScriptableOptions",permalink:"/Charba-Wiki/docs/configuration/ScriptableOptions",version:"current",sidebar_label:"Scriptable Options",frontMatter:{id:"ScriptableOptions",title:"Scriptable Options",hide_title:!0,sidebar_label:"Scriptable Options"},sidebar:"docs",previous:{title:"Layout",permalink:"/Charba-Wiki/docs/configuration/Layout"},next:{title:"Filler and decimation",permalink:"/Charba-Wiki/docs/configuration/FillerAndDecimation"}},l=[{value:"Scriptable options",id:"scriptable-options",children:[]},{value:"Options Context",id:"options-context",children:[{value:"Chart context",id:"chart-context",children:[]},{value:"Dataset context",id:"dataset-context",children:[]},{value:"Scale context",id:"scale-context",children:[]}]}],i={toc:l};function p(t){var e=t.components,a=Object(n.a)(t,["components"]);return Object(b.b)("wrapper",Object(r.a)({},i,a,{components:e,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"scriptable-options"},"Scriptable options"),Object(b.b)("p",null,"Scriptable options are configuration items which can be configured at runtime, based on a callback which is called for each of the underlying data values and that takes a context representing contextual information."),Object(b.b)("p",null,"All scriptable options callbacks can accept only 1 argument, the context, which can be different depending on the chart element which is triggering the callback."),Object(b.b)("p",null,"Here is an example:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-java"},"LineDataset dataset = chart.newDataset();\ndataset.setBackgroundColor(new ColorCallback<DatasetContext>(){\n\n    @Override\n    public IsColor invoke(DatasetContext context){\n        return HtmlColor.PINK;\n    }\n\n});\n")),Object(b.b)("h2",{id:"options-context"},"Options Context"),Object(b.b)("p",null,"The option context is used to give contextual information when resolving options. It applies to all scriptable options and their callbacks."),Object(b.b)("p",null,"The object is preserved, so it can be used to store and pass information between calls."),Object(b.b)("p",null,"There are the following different types of context objects, to be consumed on scriptable options on chart elements (plugins excluded):"),Object(b.b)("ul",null,Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/ChartContext.html"},"chart context")," used for scriptable options that apply at chart configuration level."),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/DatasetContext.html"},"dataset context")," used for scriptable options that apply at dataset or data configuration level."),Object(b.b)("li",{parentName:"ul"},Object(b.b)("a",{parentName:"li",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/ScaleContext.html"},"scale context")," used for scriptable options that apply at scale or ticks level.")),Object(b.b)("p",null,"Apart for the options stored by the user in the context (attributes), all other options must be considered as read-only properties. "),Object(b.b)("h3",{id:"chart-context"},"Chart context"),Object(b.b)("p",null,"The ",Object(b.b)("a",{parentName:"p",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/ChartContext.html"},"chart context")," is used for scriptable options set in the chart configuration and is providing all necessary information about the chart in order to apply own logic."),Object(b.b)("p",null,"The context object contains the following properties:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Name"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"chart"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/IsChart.html"},"IsChart")),Object(b.b)("td",{parentName:"tr",align:"left"},"Chart instance.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/ContextType.html"},"ContextType")),Object(b.b)("td",{parentName:"tr",align:"left"},"The type of the context. It can only be ",Object(b.b)("inlineCode",{parentName:"td"},"ContextType.CHART"),".")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"attributes"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/commons/NativeObjectContainer.html"},"NativeObjectContainer")),Object(b.b)("td",{parentName:"tr",align:"left"},"User object which you can store your options at runtime.")))),Object(b.b)("h3",{id:"dataset-context"},"Dataset context"),Object(b.b)("p",null,"The ",Object(b.b)("a",{parentName:"p",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/DatasetContext.html"},"dataset context")," is used for data set scriptable options which are providing all necessary information to get the data and data set links in order to apply own logic."),Object(b.b)("p",null,"Here is an example:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-java"},"BarDataset dataset = chart.newDataset();\ndataset.setBackgroundColor(new ColorCallback<DatasetContext>(){\n\n    @Override\n    public IsColor invoke(DatasetContext context){\n        IsChart chart = context.getChart(); \n        Dataset dataset = chart.getData().getDatasets().get(context.getDatasetIndex());\n        Double value = dataset.getData().get(context.getDataIndex());\n        if (value >= 85D){\n            return HtmlColor.RED;\n        } else if (value >= 60D){\n            return HtmlColor.ORANGE;\n        }\n        return HtmlColor.GREEN;\n    }\n\n});\n")),Object(b.b)("p",null,"The context object contains the following properties:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Name"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"active"),Object(b.b)("td",{parentName:"tr",align:"left"},"boolean"),Object(b.b)("td",{parentName:"tr",align:"left"},"Whether the associated element is hovered.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"attributes"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/commons/NativeObjectContainer.html"},"NativeObjectContainer")),Object(b.b)("td",{parentName:"tr",align:"left"},"User object which you can store your options at runtime.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"chart"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/IsChart.html"},"IsChart")),Object(b.b)("td",{parentName:"tr",align:"left"},"Chart instance.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"dataIndex"),Object(b.b)("td",{parentName:"tr",align:"left"},"int"),Object(b.b)("td",{parentName:"tr",align:"left"},"The index of the current data.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"datasetElement"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/DatasetElement.html"},"DatasetElement")),Object(b.b)("td",{parentName:"tr",align:"left"},"The element (point, arc, bar, etc.) for this data")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"datasetIndex"),Object(b.b)("td",{parentName:"tr",align:"left"},"int"),Object(b.b)("td",{parentName:"tr",align:"left"},"The index of the current data set.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"datasetItem"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/DatasetItem.html"},"DatasetItem")),Object(b.b)("td",{parentName:"tr",align:"left"},"The data set information for this data")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/ContextType.html"},"ContextType")),Object(b.b)("td",{parentName:"tr",align:"left"},"The type of the context. It can be ",Object(b.b)("inlineCode",{parentName:"td"},"ContextType.DATASET")," or ",Object(b.b)("inlineCode",{parentName:"td"},"ContextType.DATA"),".")))),Object(b.b)("p",null,"The following matrix will report which properties are available based on the context type."),Object(b.b)("table",null,Object(b.b)("thead",null,Object(b.b)("tr",null,Object(b.b)("th",{scope:"col"},"Name"),Object(b.b)("th",{scope:"col"},"ContextType.DATASET"),Object(b.b)("th",{scope:"col"},"ContextType.DATA"))),Object(b.b)("tbody",null,Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"active"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"attributes"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"chart"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"dataIndex"),Object(b.b)("td",{style:{backgroundColor:"rgb(255,232,232)"}},"NO"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"datasetElement"),Object(b.b)("td",{style:{backgroundColor:"rgb(255,232,232)"}},"NO"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"datasetIndex"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"datasetItem"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")))),Object(b.b)("h3",{id:"scale-context"},"Scale context"),Object(b.b)("p",null,"The ",Object(b.b)("a",{parentName:"p",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/callbacks/ScaleContext.html"},"scale context")," is used for scales and ticks scriptable options which are providing all necessary information to get the scale and ticks links in order to apply own logic."),Object(b.b)("p",null,"Here is an example:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-java"},"RadialAxis axis = new RadialAxis(chart);\naxis.getPointLabels().setColor(new ColorCallback<ScaleContext>(){\n            \n    @Override\n    public Object invoke(ScaleContext context){\n        return context.getIndex() % 2  == 0 ? HtmlColor.RED : HtmlColor.BLACK;\n    }\n});\n")),Object(b.b)("p",null,"The context object contains the following properties:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:"left"},"Name"),Object(b.b)("th",{parentName:"tr",align:"left"},"Type"),Object(b.b)("th",{parentName:"tr",align:"left"},"Description"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"attributes"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/commons/NativeObjectContainer.html"},"NativeObjectContainer")),Object(b.b)("td",{parentName:"tr",align:"left"},"User object which you can store your options at runtime.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"axis"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/configuration/Axis.html"},"Axis")),Object(b.b)("td",{parentName:"tr",align:"left"},"Axis instance.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"chart"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/IsChart.html"},"IsChart")),Object(b.b)("td",{parentName:"tr",align:"left"},"Chart instance.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"index"),Object(b.b)("td",{parentName:"tr",align:"left"},"int"),Object(b.b)("td",{parentName:"tr",align:"left"},"The index of the current tick.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"scale"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/ScaleItem.html"},"ScaleItem")),Object(b.b)("td",{parentName:"tr",align:"left"},"The scale associated to this context.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"tick"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/ScaleTickItem.html"},"ScaleTickItem")),Object(b.b)("td",{parentName:"tr",align:"left"},"The tick associated to this context.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:"left"},"type"),Object(b.b)("td",{parentName:"tr",align:"left"},Object(b.b)("a",{parentName:"td",href:"https://www.pepstock.org/Charba/4.0/org/pepstock/charba/client/items/ContextType.html"},"ContextType")),Object(b.b)("td",{parentName:"tr",align:"left"},"The type of the context. It can be ",Object(b.b)("inlineCode",{parentName:"td"},"ContextType.SCALE")," or ",Object(b.b)("inlineCode",{parentName:"td"},"ContextType.TICK"),".")))),Object(b.b)("p",null,"The following matrix will report which properties are available based on the context type."),Object(b.b)("table",null,Object(b.b)("thead",null,Object(b.b)("tr",null,Object(b.b)("th",{scope:"col"},"Name"),Object(b.b)("th",{scope:"col"},"ContextType.SCALE"),Object(b.b)("th",{scope:"col"},"ContextType.TICK"))),Object(b.b)("tbody",null,Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"attributes"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"axis"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"chart"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"index"),Object(b.b)("td",{style:{backgroundColor:"rgb(255,232,232)"}},"NO"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"scale"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")),Object(b.b)("tr",null,Object(b.b)("td",{scope:"row"},"tick"),Object(b.b)("td",{style:{backgroundColor:"rgb(255,232,232)"}},"NO"),Object(b.b)("td",{style:{backgroundColor:"rgb(244,252,239)"}},"Available")))))}p.isMDXComponent=!0},209:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return h}));var r=a(0),n=a.n(r);function b(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){b(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,r,n=function(t,e){if(null==t)return{};var a,r,n={},b=Object.keys(t);for(r=0;r<b.length;r++)a=b[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}(t,e);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);for(r=0;r<b.length;r++)a=b[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}var i=n.a.createContext({}),p=function(t){var e=n.a.useContext(i),a=e;return t&&(a="function"==typeof t?t(e):o(o({},e),t)),a},s=function(t){var e=p(t.components);return n.a.createElement(i.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.a.createElement(n.a.Fragment,{},e)}},O=n.a.forwardRef((function(t,e){var a=t.components,r=t.mdxType,b=t.originalType,c=t.parentName,i=l(t,["components","mdxType","originalType","parentName"]),s=p(a),O=r,h=s["".concat(c,".").concat(O)]||s[O]||d[O]||b;return a?n.a.createElement(h,o(o({ref:e},i),{},{components:a})):n.a.createElement(h,o({ref:e},i))}));function h(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var b=a.length,c=new Array(b);c[0]=O;var o={};for(var l in e)hasOwnProperty.call(e,l)&&(o[l]=e[l]);o.originalType=t,o.mdxType="string"==typeof t?t:r,c[1]=o;for(var i=2;i<b;i++)c[i]=a[i];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,a)}O.displayName="MDXCreateElement"}}]);